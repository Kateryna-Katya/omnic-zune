(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const m of o.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function i(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(t){if(t.ep)return;t.ep=!0;const o=i(t);fetch(t.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{gsap.registerPlugin(ScrollTrigger);const w=new Lenis({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),smooth:!0});function d(e){w.raf(e),requestAnimationFrame(d)}requestAnimationFrame(d);const i=document.getElementById("burger-btn"),l=document.getElementById("nav-menu"),t=i==null?void 0:i.querySelector("i"),o=document.querySelectorAll(".header__link, .header__cta.mobile-only");i&&i.addEventListener("click",()=>{l.classList.toggle("is-open"),t&&(l.classList.contains("is-open")?(t.classList.remove("fa-bars-staggered"),t.classList.add("fa-xmark")):(t.classList.remove("fa-xmark"),t.classList.add("fa-bars-staggered")))}),o.forEach(e=>{e.addEventListener("click",()=>{l.classList.remove("is-open"),t&&(t.classList.remove("fa-xmark"),t.classList.add("fa-bars-staggered"))})}),window.addEventListener("scroll",()=>{const e=document.querySelector(".header");e&&(window.scrollY>50?e.style.background="rgba(14, 14, 16, 0.95)":e.style.background="rgba(14, 14, 16, 0.85)")}),(()=>{const e=document.getElementById("canvas-container");if(!e)return;const n=new THREE.Scene,a=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3);a.position.z=20;const r=new THREE.WebGLRenderer({alpha:!0,antialias:!0});r.setSize(window.innerWidth,window.innerHeight),r.setPixelRatio(window.devicePixelRatio),e.appendChild(r.domElement);const S=new THREE.BufferGeometry,A=1500,p=new Float32Array(A*3);for(let s=0;s<A*3;s++){const h=12*Math.cbrt(Math.random()),B=Math.random()*2*Math.PI,y=Math.acos(2*Math.random()-1),_=h*Math.sin(y)*Math.cos(B),X=h*Math.sin(y)*Math.sin(B),Y=h*Math.cos(y);p[s*3]=_,p[s*3+1]=X,p[s*3+2]=Y}S.setAttribute("position",new THREE.BufferAttribute(p,3));const O=new THREE.PointsMaterial({size:.08,color:13958912,transparent:!0,opacity:.8}),c=new THREE.Points(S,O);n.add(c);let T=0,H=0,P=0,q=0;const z=window.innerWidth/2,W=window.innerHeight/2;document.addEventListener("mousemove",s=>{T=s.clientX-z,H=s.clientY-W});const x=()=>{requestAnimationFrame(x),P=T*.001,q=H*.001,c.rotation.y+=.002,c.rotation.x+=.001,c.rotation.y+=.05*(P-c.rotation.y),c.rotation.x+=.05*(q-c.rotation.x),r.render(n,a)};x(),window.addEventListener("resize",()=>{a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),r.setSize(window.innerWidth,window.innerHeight)})})(),gsap.utils.toArray(".info-card").forEach((e,n)=>{gsap.from(e,{scrollTrigger:{trigger:e,start:"top 85%",toggleActions:"play none none reverse"},y:50,opacity:0,duration:.8,delay:n*.1})});const E=document.querySelectorAll(".parallax-item");E.length>0&&E.forEach(e=>{const n=e.getAttribute("data-speed")||.5;gsap.to(e,{y:-100*parseFloat(n),ease:"none",scrollTrigger:{trigger:e.closest("section"),start:"top bottom",end:"bottom top",scrub:1}})}),document.querySelectorAll(".divider").forEach(e=>{gsap.from(e,{scaleX:0,opacity:0,duration:1.5,ease:"power2.out",scrollTrigger:{trigger:e,start:"top 90%",toggleActions:"play none none reverse"}})});const v=document.querySelectorAll(".accordion__item"),k=document.querySelectorAll(".preview-item");v.forEach(e=>{e.addEventListener("click",()=>{v.forEach(r=>r.classList.remove("active")),k.forEach(r=>r.classList.remove("active")),e.classList.add("active");const n=e.getAttribute("data-target"),a=document.getElementById(n);a&&a.classList.add("active")})}),document.querySelector(".blog-grid")&&gsap.from(".blog-card",{scrollTrigger:{trigger:".blog-grid",start:"top 80%"},y:50,opacity:0,duration:.8,stagger:.2,clearProps:"all"});const g=document.getElementById("contactForm"),F=document.getElementById("successMessage"),R=document.getElementById("captcha-question"),u=document.getElementById("captcha-input"),L=Math.floor(Math.random()*10)+1,b=Math.floor(Math.random()*10)+1;R.textContent=`${L} + ${b} = ?`;const C=L+b;g&&(g.addEventListener("submit",e=>{if(e.preventDefault(),parseInt(u.value)!==C){alert("Ошибка в математическом примере! Попробуйте еще раз."),u.value="",u.focus(),u.style.borderColor="red";return}const n=g.querySelector("button");n.innerHTML,n.innerHTML='<i class="fa-solid fa-spinner fa-spin"></i> Отправка...',n.style.opacity="0.7",setTimeout(()=>{g.style.display="none",F.classList.add("visible"),localStorage.setItem("formSubmitted","true")},1500)}),u.addEventListener("input",()=>{u.style.borderColor="var(--border-color)"}));const f=document.getElementById("cookie-popup"),M=document.getElementById("accept-cookies"),I=document.getElementById("decline-cookies");localStorage.getItem("cookieConsent")||setTimeout(()=>{f.classList.add("show")},2e3),M&&M.addEventListener("click",()=>{localStorage.setItem("cookieConsent","true"),f.classList.remove("show")}),I&&I.addEventListener("click",()=>{f.classList.remove("show")})});
//# sourceMappingURL=main-DUjEPPlk.js.map

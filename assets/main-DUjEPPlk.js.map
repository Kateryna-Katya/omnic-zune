{"version":3,"file":"main-DUjEPPlk.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n\n  // 1. Инициализация библиотек\n  gsap.registerPlugin(ScrollTrigger);\n\n  // Инициализация Lenis (Плавный скролл)\n  const lenis = new Lenis({\n      duration: 1.2,\n      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n      smooth: true,\n  });\n\n  function raf(time) {\n      lenis.raf(time);\n      requestAnimationFrame(raf);\n  }\n  requestAnimationFrame(raf);\n\n  // --- МОБИЛЬНОЕ МЕНЮ ---\n  const burgerBtn = document.getElementById('burger-btn');\n  const navMenu = document.getElementById('nav-menu');\n  const icon = burgerBtn?.querySelector('i'); // Проверка на существование\n  const navLinks = document.querySelectorAll('.header__link, .header__cta.mobile-only');\n\n  if (burgerBtn) {\n      burgerBtn.addEventListener('click', () => {\n          navMenu.classList.toggle('is-open');\n          if (icon) {\n              if (navMenu.classList.contains('is-open')) {\n                  icon.classList.remove('fa-bars-staggered');\n                  icon.classList.add('fa-xmark');\n              } else {\n                  icon.classList.remove('fa-xmark');\n                  icon.classList.add('fa-bars-staggered');\n              }\n          }\n      });\n  }\n\n  navLinks.forEach(link => {\n      link.addEventListener('click', () => {\n          navMenu.classList.remove('is-open');\n          if (icon) {\n              icon.classList.remove('fa-xmark');\n              icon.classList.add('fa-bars-staggered');\n          }\n      });\n  });\n\n  // Хедер при скролле\n  window.addEventListener('scroll', () => {\n      const header = document.querySelector('.header');\n      if (header) {\n          if (window.scrollY > 50) {\n              header.style.background = 'rgba(14, 14, 16, 0.95)';\n          } else {\n              header.style.background = 'rgba(14, 14, 16, 0.85)';\n          }\n      }\n  });\n\n  // --- HERO 3D (Three.js) ---\n  const initThreeJS = () => {\n      const container = document.getElementById('canvas-container');\n      if (!container) return;\n\n      const scene = new THREE.Scene();\n      const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n      camera.position.z = 20;\n\n      const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });\n      renderer.setSize(window.innerWidth, window.innerHeight);\n      renderer.setPixelRatio(window.devicePixelRatio);\n      container.appendChild(renderer.domElement);\n\n      const particlesGeometry = new THREE.BufferGeometry();\n      const particlesCount = 1500;\n      const posArray = new Float32Array(particlesCount * 3);\n\n      for(let i = 0; i < particlesCount * 3; i++) {\n          const r = 12 * Math.cbrt(Math.random());\n          const theta = Math.random() * 2 * Math.PI;\n          const phi = Math.acos(2 * Math.random() - 1);\n\n          const x = r * Math.sin(phi) * Math.cos(theta);\n          const y = r * Math.sin(phi) * Math.sin(theta);\n          const z = r * Math.cos(phi);\n\n          posArray[i * 3] = x;\n          posArray[i * 3 + 1] = y;\n          posArray[i * 3 + 2] = z;\n      }\n\n      particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));\n\n      const material = new THREE.PointsMaterial({\n          size: 0.08,\n          color: 0xD4FF00,\n          transparent: true,\n          opacity: 0.8,\n      });\n\n      const particlesMesh = new THREE.Points(particlesGeometry, material);\n      scene.add(particlesMesh);\n\n      let mouseX = 0, mouseY = 0, targetX = 0, targetY = 0;\n      const windowHalfX = window.innerWidth / 2;\n      const windowHalfY = window.innerHeight / 2;\n\n      document.addEventListener('mousemove', (event) => {\n          mouseX = (event.clientX - windowHalfX);\n          mouseY = (event.clientY - windowHalfY);\n      });\n\n      const animate = () => {\n          requestAnimationFrame(animate);\n          targetX = mouseX * 0.001;\n          targetY = mouseY * 0.001;\n          particlesMesh.rotation.y += 0.002;\n          particlesMesh.rotation.x += 0.001;\n          particlesMesh.rotation.y += 0.05 * (targetX - particlesMesh.rotation.y);\n          particlesMesh.rotation.x += 0.05 * (targetY - particlesMesh.rotation.x);\n          renderer.render(scene, camera);\n      };\n      animate();\n\n      window.addEventListener('resize', () => {\n          camera.aspect = window.innerWidth / window.innerHeight;\n          camera.updateProjectionMatrix();\n          renderer.setSize(window.innerWidth, window.innerHeight);\n      });\n  };\n  initThreeJS();\n\n  // --- STICKY SCROLL (About) ---\n  gsap.utils.toArray('.info-card').forEach((card, i) => {\n      gsap.from(card, {\n          scrollTrigger: {\n              trigger: card,\n              start: \"top 85%\",\n              toggleActions: \"play none none reverse\"\n          },\n          y: 50,\n          opacity: 0,\n          duration: 0.8,\n          delay: i * 0.1\n      });\n  });\n\n  // --- PARALLAX EFFECT (Benefits) ---\n  const parallaxItems = document.querySelectorAll('.parallax-item');\n  if (parallaxItems.length > 0) {\n      parallaxItems.forEach((item) => {\n          const speed = item.getAttribute('data-speed') || 0.5;\n\n          gsap.to(item, {\n              y: -100 * parseFloat(speed),\n              ease: \"none\",\n              scrollTrigger: {\n                  trigger: item.closest('section'),\n                  start: \"top bottom\",\n                  end: \"bottom top\",\n                  scrub: 1\n              }\n          });\n      });\n  }\n\n  const dividers = document.querySelectorAll('.divider');\n  dividers.forEach((divider) => {\n      gsap.from(divider, {\n          scaleX: 0,\n          opacity: 0,\n          duration: 1.5,\n          ease: \"power2.out\",\n          scrollTrigger: {\n              trigger: divider,\n              start: \"top 90%\",\n              toggleActions: \"play none none reverse\"\n          }\n      });\n  });\n\n  // --- ACCORDION INNOVATIONS ---\n  const accordionItems = document.querySelectorAll('.accordion__item');\n  const previewItems = document.querySelectorAll('.preview-item');\n\n  accordionItems.forEach(item => {\n      item.addEventListener('click', () => {\n          accordionItems.forEach(i => i.classList.remove('active'));\n          previewItems.forEach(p => p.classList.remove('active'));\n          item.classList.add('active');\n          const targetId = item.getAttribute('data-target');\n          const targetPreview = document.getElementById(targetId);\n          if (targetPreview) {\n              targetPreview.classList.add('active');\n          }\n      });\n  });\n\n  // --- BLOG ANIMATION (Исправлено местоположение) ---\n  // Проверяем, есть ли секция, чтобы избежать ошибок\n  if (document.querySelector('.blog-grid')) {\n      gsap.from(\".blog-card\", {\n          scrollTrigger: {\n              trigger: \".blog-grid\",\n              start: \"top 80%\", // Чуть раньше срабатывает\n          },\n          y: 50,\n          opacity: 0, // Начинаем с полной прозрачности\n          duration: 0.8,\n          stagger: 0.2, // Задержка между карточками\n          clearProps: \"all\" // Очищаем стили после анимации (важно для hover!)\n      });\n  }\n// --- FORM VALIDATION & CAPTCHA ---\nconst contactForm = document.getElementById('contactForm');\nconst successMessage = document.getElementById('successMessage');\nconst captchaQuestion = document.getElementById('captcha-question');\nconst captchaInput = document.getElementById('captcha-input');\n\n// 1. Генерация случайной капчи\nconst num1 = Math.floor(Math.random() * 10) + 1; // 1-10\nconst num2 = Math.floor(Math.random() * 10) + 1; // 1-10\ncaptchaQuestion.textContent = `${num1} + ${num2} = ?`;\nconst correctAnswer = num1 + num2;\n\nif (contactForm) {\n    contactForm.addEventListener('submit', (e) => {\n        e.preventDefault(); // Останавливаем стандартную отправку\n\n        // 2. Проверка капчи\n        if (parseInt(captchaInput.value) !== correctAnswer) {\n            alert(\"Ошибка в математическом примере! Попробуйте еще раз.\");\n            captchaInput.value = '';\n            captchaInput.focus();\n            captchaInput.style.borderColor = \"red\";\n            return;\n        }\n\n        // 3. Имитация отправки (AJAX)\n        const btn = contactForm.querySelector('button');\n        const originalText = btn.innerHTML;\n\n        btn.innerHTML = '<i class=\"fa-solid fa-spinner fa-spin\"></i> Отправка...';\n        btn.style.opacity = '0.7';\n\n        setTimeout(() => {\n            // Скрываем форму, показываем успех\n            contactForm.style.display = 'none';\n            successMessage.classList.add('visible');\n\n            // Сохранение выбора Cookies (если нужно, но тут мы просто сохраняем факт отправки)\n            localStorage.setItem('formSubmitted', 'true');\n        }, 1500);\n    });\n\n    // Сброс красной рамки при вводе\n    captchaInput.addEventListener('input', () => {\n         captchaInput.style.borderColor = 'var(--border-color)';\n    });\n}\n// --- COOKIE POPUP ---\nconst cookiePopup = document.getElementById('cookie-popup');\nconst acceptBtn = document.getElementById('accept-cookies');\nconst declineBtn = document.getElementById('decline-cookies');\n\n// Проверяем, был ли выбор ранее\nif (!localStorage.getItem('cookieConsent')) {\n    // Показываем с задержкой 2 секунды\n    setTimeout(() => {\n        cookiePopup.classList.add('show');\n    }, 2000);\n}\n\nif (acceptBtn) {\n    acceptBtn.addEventListener('click', () => {\n        localStorage.setItem('cookieConsent', 'true');\n        cookiePopup.classList.remove('show');\n    });\n}\n\nif (declineBtn) {\n    declineBtn.addEventListener('click', () => {\n        // Просто скрываем, не сохраняя согласие\n        cookiePopup.classList.remove('show');\n    });\n}\n}); // <-- ВОТ ЗДЕСЬ конец функции DOMContentLoaded"],"names":["lenis","t","raf","time","burgerBtn","navMenu","icon","navLinks","link","header","container","scene","camera","renderer","particlesGeometry","particlesCount","posArray","i","r","theta","phi","x","y","z","material","particlesMesh","mouseX","mouseY","targetX","targetY","windowHalfX","windowHalfY","event","animate","card","parallaxItems","item","speed","divider","accordionItems","previewItems","p","targetId","targetPreview","contactForm","successMessage","captchaQuestion","captchaInput","num1","num2","correctAnswer","btn","cookiePopup","acceptBtn","declineBtn"],"mappings":"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"}